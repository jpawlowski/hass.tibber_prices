#!/bin/sh

# script/lint-check: Check linting without making changes.

set -e

cd "$(dirname "$0")/.."

if [ -z "$VIRTUAL_ENV" ]; then
    . "$HOME/.venv/bin/activate"
fi

echo "==> Checking code format..."
uv run --active ruff format . --check

echo "==> Checking code with Ruff..."
uv run --active ruff check .

# Clean up any accidental package installation from uv run
"$(dirname "$0")/clean" --minimal

echo "==> Linting check completed!"
